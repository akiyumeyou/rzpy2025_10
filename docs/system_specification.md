# 高齢者向け安否確認システム - システム仕様書 v2.0

## 1. プロジェクト概要

### 1.1 目的
- 1日1回のAI会話による高齢者の安否確認システム
- 会話・脳トレ・日記記録による安否状況の把握
- 家族への通知機能による見守り支援

### 1.2 システムの基本理念
- **1日1回の習慣**: 定時の時報で会話開始
- **安否確認**: 会話内容と感情分析による状況把握
- **家族連携**: 異常時の自動通知システム
- **簡単操作**: 音声中心の直感的なインターフェース

## 2. 基本機能仕様

### 2.1 時報機能
#### 2.1.1 機能概要
- 1日1回の会話開始合図として時報音を再生
- 現在時刻を音声でお知らせして自然に会話へ導入

#### 2.1.2 詳細仕様
- **音声形式**: 「こんにちは。現在の時刻は○時○分です。今日もお話しましょう。」
- **音声品質**: 明瞭で聞き取りやすい日本語音声
- **スケジュール**: 将来的に定時実行機能を追加予定

### 2.2 AI会話機能
#### 2.2.1 機能概要
- 時報後、自動的にAI会話セッション開始
- 会話・脳トレ・日記など多様な内容に対応
- 会話内容を記録し安否確認に活用

#### 2.2.2 会話の特徴
- **詳細な会話スタイル・プロンプト設計は `prompt_design.md` を参照**
- 高齢者向けに最適化された自然で寄り添う対話

#### 2.2.3 記録・分析機能
- 会話内容の自動保存
- 感情分析による安否状況の把握
- 異常検知時の家族への自動通知

### 2.3 終了機能
#### 2.3.1 終了コマンド
- **音声コマンド**: 「終わり」「おしまい」「さようなら」
- **キーボード**: Ctrl+C、ESCキー
- **安全確認**: 終了前に確認メッセージ

#### 2.3.2 終了処理
- 「ありがとうございました。また明日お話ししましょう。」のメッセージ
- データの保存（将来機能）
- **完全なシステム終了** - プログラム終了後は `python main.py` の再実行が必要

## 3. 技術仕様

### 3.1 開発環境
- **開発プラットフォーム**: macOS（開発用）
- **対象プラットフォーム**: Raspberry Pi 5（本格運用）
- **プログラミング言語**: Python 3.11
- **音声処理**: OpenAI API または類似サービス


## 4. ユーザーインターフェース仕様

### 4.1 起動画面
- シンプルなコンソール画面
- 起動状態の表示
- 時報と会話開始の案内

### 4.2 会話中画面
- 最小限の情報表示
- 現在の状態（聞いています／話しています）
- 終了コマンドの案内

### 4.3 音声フィードバック
- 明確な応答音
- 聞き取りやすい音声出力
- 適切な音量とスピード

## 5. エラーハンドリング

### 5.1 音声認識エラー
- 聞き取れない場合の再試行
- 「もう一度お話しください」のメッセージ
- 最大試行回数の設定

### 5.2 ネットワークエラー
- オフライン時の基本機能継続
- エラーメッセージの表示
- 代替機能の提供

### 5.3 システムエラー
- 安全な終了処理
- エラーログの記録
- 復旧手順の案内

## 6. セキュリティ仕様

### 6.1 プライバシー保護
- 音声データの適切な処理
- 個人情報の保護
- データ保存の最小化

### 6.2 安全性
- 不正終了の防止
- 適切な権限設定
- セキュアな通信（API使用時）

## 7. 実装・拡張計画

詳細な実装手順・フェーズ・将来拡張計画については `implementation_guide.md` を参照してください。